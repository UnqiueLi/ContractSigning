<view><view class="page-container"><view class="bg-header"></view><view class="top-nav"><text class="page-title">创建任务</text></view><view class="form-container"><view class="form-card"><view class="form-item"><view class="form-item-label">发起方</view><view class="form-item-input"><u-input bind:input="__e" vue-id="2d3f6d6f-1" placeholder="请输入发起方" disabled="{{true}}" value="{{formData.initiator}}" data-event-opts="{{[['^input',[['__set_model',['$0','initiator','$event',[]],['formData']]]]]}}" bind:__l="__l"></u-input></view></view><view class="form-line"></view><view class="form-item"><view class="form-item-label">主题</view><view class="form-item-input"><u-input bind:input="__e" vue-id="2d3f6d6f-2" placeholder="请输入主题" value="{{formData.title}}" data-event-opts="{{[['^input',[['__set_model',['$0','title','$event',[]],['formData']]]]]}}" bind:__l="__l"></u-input></view></view><view class="form-line"></view><view data-event-opts="{{[['tap',[['showTimePicker',['$event']]]]]}}" class="form-item" bindtap="__e"><view class="form-item-label">截止时间</view><view class="form-item-input time-select"><text>{{formData.deadline||'请选择截止时间'}}</text><u-icon vue-id="2d3f6d6f-3" name="arrow-right" color="#C0C4CC" size="28" bind:__l="__l"></u-icon></view></view></view><view class="form-card"><view class="upload-item"><view class="upload-title">文档上传</view><view data-event-opts="{{[['tap',[['triggerFile',['$event']]]]]}}" class="upload-btn" bindtap="__e"><view class="custom-upload-btn">添加文档</view></view></view></view><block wx:if="{{$root.g0>0}}"><view class="form-card filesBox"><block wx:for="{{files}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="fileNameBox"><text>{{item.fileName}}</text><u-icon class="delete-icon" vue-id="{{'2d3f6d6f-4-'+index}}" name="trash" size="22" color="#6c757d" data-event-opts="{{[['^click',[['deleteFile',[index]]]]]}}" bind:click="__e" bind:__l="__l"></u-icon></view></block></view></block><view class="form-card"><view class="participants-header"><view class="participants-title">{{"参与方 ("+$root.g1+")"}}</view><view class="participants-subtitle">{{selectedParticipant?'已选择参与方':'请选择一个参与方'}}</view></view><view class="participants-list"><block wx:if="{{$root.g2>0}}"><view><block wx:for="{{listData}}" wx:for-item="item" wx:for-index="__i0__" wx:key="id"><view data-event-opts="{{[['tap',[['selectParticipant',['$0'],[[['listData','id',item.id,'id']]]]]]]}}" class="participant-item" bindtap="__e"><view class="participant-info"><view class="selection-indicator"><u-icon vue-id="{{'2d3f6d6f-5-'+__i0__}}" name="{{selectedParticipant===item.id?'checkbox-mark':'circle'}}" color="{{selectedParticipant===item.id?'#3758FE':'#C0C4CC'}}" size="20" bind:__l="__l"></u-icon></view><u-avatar vue-id="{{'2d3f6d6f-6-'+__i0__}}" src="/static/image/userInfo.png" size="35" bind:__l="__l"></u-avatar><view class="participant-details"><text class="participant-name">{{item.name}}</text><text class="participant-type">{{item.type===1?'企业':'个人'}}</text></view></view><view data-event-opts="{{[['tap',[['delFun',['$0'],[[['listData','id',item.id,'id']]]]]]]}}" class="participant-actions" catchtap="__e"><u-icon class="delete-icon" vue-id="{{'2d3f6d6f-7-'+__i0__}}" name="trash" size="22" color="#6c757d" bind:__l="__l"></u-icon></view></view></block></view></block></view><view class="btn-group"><view data-event-opts="{{[['tap',[['addUser',[1]]]]]}}" class="custom-btn" bindtap="__e"><u-icon vue-id="2d3f6d6f-8" name="account" size="16" color="#3758FE" bind:__l="__l"></u-icon><text>添加个人</text></view><view data-event-opts="{{[['tap',[['addUser',[2]]]]]}}" class="custom-btn" bindtap="__e"><u-icon vue-id="2d3f6d6f-9" name="home" size="16" color="#3758FE" bind:__l="__l"></u-icon><text>添加企业</text></view></view></view><view class="bottom-actions"><u-button class="submit-btn" vue-id="2d3f6d6f-10" type="primary" data-event-opts="{{[['^click',[['getAddContract']]]]}}" bind:click="__e" bind:__l="__l" vue-slots="{{['default']}}">提交任务</u-button></view></view></view><u-picker vue-id="2d3f6d6f-11" mode="time" params="{{timePickerParams}}" show-time-tag="{{true}}" value="{{showPicker}}" data-event-opts="{{[['^confirm',[['onTimeConfirm']]],['^cancel',[['e0']]],['^input',[['__set_model',['','showPicker','$event',[]]]]]]}}" bind:confirm="__e" bind:cancel="__e" bind:input="__e" bind:__l="__l"></u-picker></view>